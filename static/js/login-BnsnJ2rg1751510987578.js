import{M as e,N as a,O as s,P as l,Q as r,R as o,S as i,T as n,c as t}from"./chunk-element-plus-uuGlhcV-1751510987578.js";import{_ as c,u as m,A as d,a as u,g as p}from"./index-Brqv2r8y1751510987578.js";import{bu as f,cf as g,bF as y,bT as _,bU as b,c4 as v,c1 as h,bX as w,c7 as k,c9 as x,bw as V,c5 as j,cD as q,cs as C}from"./chunk-vendor-C4y4kqPh1751510987578.js";import{u as F,b as S}from"./chunk-vue-router-ELZkRXBe1751510987578.js";import"./chunk-pinia-DyUIvQ2z1751510987578.js";import"./chunk-nprogress-DVqohuhc1751510987578.js";import"./chunk-axios-rSMZb3Ae1751510987578.js";const T={class:"login-box"},U={class:"login-header"},I={class:"logo-container"},R={class:"title"},A={class:"form-options fade-in-item",style:{"--delay":"0.3s"}},K={class:"social-login fade-in-item",style:{"--delay":"0.6s"}},N={class:"login-footer fade-in-item",style:{"--delay":"0.7s"}},D=c({__name:"login",setup(c){const D=F(),E=S(),L=f(null),M=m(),O=f(null),P=f(!1),Q=g({username:"",password:"",remember:!1}),X={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度应在3到20个字符之间",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"密码长度应在6到20个字符之间",trigger:"blur"}]},z=()=>{t({message:"请联系管理员重置密码",type:"info"})},B=()=>{L.value.validate((async e=>{if(!e)return;if(await M.login({...Q,remember:Q.remember})){const e=E.query.redirect||"/";D.push(e)}}))};return y((()=>{const e=localStorage.getItem("username");if(e){Q.username=e;localStorage.getItem("password")&&(Q.remember=!0)}setTimeout((()=>{P.value=!0}),0)})),(t,c)=>{const m=u,f=a,g=e,y=r,F=o,S=i,D=n;return b(),_("div",{class:"login-container",ref_key:"loginContainerRef",ref:O},[P.value?(b(),v(d,{key:0,target:".login-container",config:{circles:6,squares:3,triangles:2,particles:12,waves:2},"theme-colors":["#409EFF","#67C23A"]})):h("",!0),w("div",T,[c[9]||(c[9]=w("div",{class:"decoration-line"},null,-1)),w("div",U,[w("div",I,[k(m,{name:"cat",class:"logo-icon animated-icon"}),w("h2",R,x(V(p).projectName),1)]),c[3]||(c[3]=w("p",{class:"welcome-text"},"欢迎登录系统",-1))]),k(D,{ref_key:"loginFormRef",ref:L,model:Q,rules:X,class:"login-form"},{default:j((()=>[k(g,{prop:"username",class:"fade-in-item",style:{"--delay":"0.1s"}},{default:j((()=>[k(f,{modelValue:Q.username,"onUpdate:modelValue":c[0]||(c[0]=e=>Q.username=e),placeholder:"请输入用户名","prefix-icon":V(s),clearable:"",onKeyup:q(B,["enter"])},null,8,["modelValue","prefix-icon"])])),_:1}),k(g,{prop:"password",class:"fade-in-item",style:{"--delay":"0.2s"}},{default:j((()=>[k(f,{modelValue:Q.password,"onUpdate:modelValue":c[1]||(c[1]=e=>Q.password=e),type:"password",placeholder:"请输入密码","prefix-icon":V(l),"show-password":"",clearable:"",onKeyup:q(B,["enter"])},null,8,["modelValue","prefix-icon"])])),_:1}),w("div",A,[k(y,{modelValue:Q.remember,"onUpdate:modelValue":c[2]||(c[2]=e=>Q.remember=e),class:"remember-me"},{default:j((()=>c[4]||(c[4]=[C(" 记住我 ")]))),_:1,__:[4]},8,["modelValue"]),k(F,{class:"forget-password",type:"primary",underline:"never",onClick:z},{default:j((()=>c[5]||(c[5]=[C(" 忘记密码? ")]))),_:1,__:[5]})]),k(g,{class:"fade-in-item",style:{"--delay":"0.4s"}},{default:j((()=>[k(S,{type:"primary",loading:V(M).isLoading,class:"login-button",onClick:B},{default:j((()=>c[6]||(c[6]=[C(" 登 录 ")]))),_:1,__:[6]},8,["loading"])])),_:1})])),_:1},8,["model"]),c[10]||(c[10]=w("div",{class:"login-divider fade-in-item",style:{"--delay":"0.5s"}},[w("span",null,"其他登录方式")],-1)),w("div",K,[k(S,{circle:"",class:"social-icon"},{default:j((()=>[k(m,{name:"TShirt"})])),_:1}),k(S,{circle:"",class:"social-icon"},{default:j((()=>[k(m,{name:"vue"})])),_:1}),k(S,{circle:"",class:"social-icon"},{default:j((()=>[k(m,{name:"cat"})])),_:1})]),w("div",N,[w("p",null,[c[8]||(c[8]=C("还没有账号? ")),k(F,{type:"primary",underline:"never"},{default:j((()=>c[7]||(c[7]=[C("立即注册")]))),_:1,__:[7]})])])])],512)}}},[["__scopeId","data-v-4274f355"]]);export{D as default};
