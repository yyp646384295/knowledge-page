import{i as e}from"./chunk-echarts-uDC0l7CA1751527058774.js";import{_ as t,b as i}from"./index-B9T9p5MD1751527058774.js";import{bu as r,bz as s,bF as a,cb as o,bT as n,bU as l,ca as c,bG as d}from"./chunk-vendor-D8UjlmqP1751527058774.js";const h=t({__name:"index",props:{option:{type:Object,required:!0},width:{type:String,default:"100%"},height:{type:String,default:"300px"},autoResize:{type:Boolean,default:!0},followTheme:{type:Boolean,default:!0}},emits:["chartInit","chartClick","chartReady"],setup(t,{expose:h,emit:p}){const y=t,m=p,u=r(null);let f=null;const g=i();let x=null;const A=()=>{if(!f)return;let e=JSON.parse(JSON.stringify(y.option));if(y.followTheme){const t=getComputedStyle(document.documentElement).getPropertyValue("--el-color-primary").trim();e.series&&Array.isArray(e.series)&&e.series.forEach((e=>{e.itemStyle||(e.itemStyle={}),e.itemStyle.color||e.color||(e.itemStyle.color=t)}))}e.alignTicks=!1,e.radar&&(e.radar.alignTicks=!1,e.radar.scale=!0),e.xAxis&&(Array.isArray(e.xAxis)?e.xAxis.forEach((e=>{e.alignTicks=!1})):e.xAxis.alignTicks=!1),e.yAxis&&(Array.isArray(e.yAxis)?e.yAxis.forEach((e=>{e.alignTicks=!1})):e.yAxis.alignTicks=!1),e.series&&Array.isArray(e.series)&&e.series.forEach((e=>{e.alignTicks=!1})),f.setOption(e,!0),d((()=>{m("chartReady",f)}))};s((()=>y.option),(()=>{A()}),{deep:!0}),s((()=>g.themeConfig.theme),(()=>{y.followTheme&&d((()=>{A()}))}));const k=()=>{f&&f.resize()};return a((()=>{u.value&&(f&&f.dispose(),f=e(u.value),f.on("click",(e=>{m("chartClick",e)})),A(),m("chartInit",f)),y.autoResize&&(x=()=>{k()},window.addEventListener("resize",x))})),o((()=>{x&&window.removeEventListener("resize",x),f&&(f.dispose(),f=null)})),h({getChartInstance:()=>f,resize:k,updateOption:(e,t=!1)=>{f&&f.setOption(e,t)}}),(e,i)=>(l(),n("div",{ref_key:"chartRef",ref:u,style:c({width:t.width,height:t.height}),class:"echart-container"},null,4))}},[["__scopeId","data-v-6bf91fea"]]);export{h as E};
