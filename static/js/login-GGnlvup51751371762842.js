import{M as e,N as a,O as s,P as r,Q as o,R as l,S as n,T as t,c as m}from"./chunk-element-plus-ChR_2eik1751371762842.js";import{_ as i,u,a as d,g as c}from"./index-DNN4NJo41751371762842.js";import{bu as p,cf as g,bF as f,bT as b,bU as _,bX as w,c7 as h,c9 as x,bw as y,c5 as v,cP as k,cs as V}from"./chunk-vendor-D9Yy_Kpl1751371762842.js";import{u as j,b as U}from"./chunk-vue-router-BOltZzxd1751371762842.js";import"./chunk-pinia-DWlFcG8A1751371762842.js";import"./chunk-nprogress-DVqohuhc1751371762842.js";import"./chunk-axios-rSMZb3Ae1751371762842.js";const q={class:"login-container"},I={class:"login-box"},S={class:"login-header"},C={class:"logo-container"},F={class:"title"},K={class:"form-options"},N={class:"login-footer"},P=i({__name:"login",setup(i){const P=j(),R=U(),T=p(null),L=u(),M=g({username:"",password:"",remember:!1}),O={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度应在3到20个字符之间",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"密码长度应在6到20个字符之间",trigger:"blur"}]},Q=()=>{m({message:"请联系管理员重置密码",type:"info"})},X=()=>{T.value.validate((async e=>{if(!e)return;if(await L.login({...M,remember:M.remember})){const e=R.query.redirect||"/";P.push(e)}}))};return f((()=>{const e=localStorage.getItem("username");if(e){M.username=e;localStorage.getItem("password")&&(M.remember=!0)}})),(m,i)=>{const u=d,p=a,g=e,f=o,j=l,U=n,P=t;return _(),b("div",q,[w("div",I,[w("div",S,[w("div",C,[h(u,{name:"cat",class:"logo-icon"}),w("h2",F,x(y(c).projectName),1)]),i[3]||(i[3]=w("p",{class:"welcome-text"},"欢迎登录系统",-1))]),h(U,{ref_key:"loginFormRef",ref:T,model:M,rules:O,class:"login-form"},{default:v((()=>[h(g,{prop:"username"},{default:v((()=>[h(p,{modelValue:M.username,"onUpdate:modelValue":i[0]||(i[0]=e=>M.username=e),placeholder:"请输入用户名","prefix-icon":y(s),clearable:"",onKeyup:k(X,["enter"])},null,8,["modelValue","prefix-icon"])])),_:1}),h(g,{prop:"password"},{default:v((()=>[h(p,{modelValue:M.password,"onUpdate:modelValue":i[1]||(i[1]=e=>M.password=e),type:"password",placeholder:"请输入密码","prefix-icon":y(r),"show-password":"",clearable:"",onKeyup:k(X,["enter"])},null,8,["modelValue","prefix-icon"])])),_:1}),w("div",K,[h(f,{modelValue:M.remember,"onUpdate:modelValue":i[2]||(i[2]=e=>M.remember=e),class:"remember-me"},{default:v((()=>i[4]||(i[4]=[V(" 记住我 ")]))),_:1,__:[4]},8,["modelValue"]),h(j,{type:"text",class:"forget-password",onClick:Q},{default:v((()=>i[5]||(i[5]=[V(" 忘记密码? ")]))),_:1,__:[5]})]),h(g,null,{default:v((()=>[h(j,{type:"primary",loading:y(L).isLoading,class:"login-button",onClick:X},{default:v((()=>i[6]||(i[6]=[V(" 登 录 ")]))),_:1,__:[6]},8,["loading"])])),_:1})])),_:1},8,["model"]),w("div",N,[w("p",null,[i[8]||(i[8]=V("还没有账号? ")),h(P,{type:"primary",underline:!1},{default:v((()=>i[7]||(i[7]=[V("立即注册")]))),_:1,__:[7]})])])])])}}},[["__scopeId","data-v-4d04304f"]]);export{P as default};
